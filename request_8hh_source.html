<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mimosa: mimosa/http/request.hh Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">mimosa
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('request_8hh.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">request.hh</div>  </div>
</div>
<div class="contents">
<a href="request_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef MIMOSA_HTTP_REQUEST_HH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor"># define MIMOSA_HTTP_REQUEST_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor"># include &lt;vector&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor"># include &lt;map&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor"># include &quot;../container/kvs.hh&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor"># include &quot;../stream/stream.hh&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor"># include &quot;<a class="code" href="coding_8hh.html">coding.hh</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor"># include &quot;<a class="code" href="method_8hh.html">method.hh</a>&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">namespace </span>mimosa
<a name="l00013"></a>00013 {
<a name="l00014"></a>00014   <span class="keyword">namespace </span>http
<a name="l00015"></a>00015   {
<a name="l00016"></a><a class="code" href="classmimosa_1_1http_1_1Request.html">00016</a>     <span class="keyword">class </span><a class="code" href="classmimosa_1_1http_1_1Request.html">Request</a>
<a name="l00017"></a>00017     {
<a name="l00018"></a>00018     <span class="keyword">public</span>:
<a name="l00019"></a>00019 
<a name="l00020"></a>00020       <a class="code" href="classmimosa_1_1http_1_1Request.html#a081694bfc11e9da43f781ec8abd3fda4">Request</a>();
<a name="l00021"></a>00021 
<a name="l00022"></a>00022       <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ac10519d53caea89f32cb24caca632d2b">clear</a>();
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">      /**</span>
<a name="l00025"></a>00025 <span class="comment">       * @brief parses the buffer</span>
<a name="l00026"></a>00026 <span class="comment">       * @return true on success and false otherwise</span>
<a name="l00027"></a>00027 <span class="comment">       */</span>
<a name="l00028"></a>00028       <span class="keywordtype">bool</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a61df2865e3c42efe641a0999e592c356" title="parses the buffer">parse</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * data, <span class="keywordtype">size_t</span> size);
<a name="l00029"></a>00029 <span class="comment"></span>
<a name="l00030"></a>00030 <span class="comment">      /**</span>
<a name="l00031"></a>00031 <span class="comment">       * @brief parses the buffer</span>
<a name="l00032"></a>00032 <span class="comment">       * @param data the buffer is directly passed to flex so it can be</span>
<a name="l00033"></a>00033 <span class="comment">       * realloced/freed, and data[size] = data[size - 1] = 0;</span>
<a name="l00034"></a>00034 <span class="comment">       * @return true on success and false otherwise</span>
<a name="l00035"></a>00035 <span class="comment">       */</span>
<a name="l00036"></a>00036       <span class="keywordtype">bool</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a7c808359d9eb33509c7a15c291d9488d" title="parses the buffer">parseZeroCopy</a>(<span class="keywordtype">char</span> * data, <span class="keywordtype">size_t</span> size);
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a18d338ff8e867b026d3100e08e99af83">00038</a>       <span class="keyword">inline</span> <a class="code" href="namespacemimosa_1_1http.html#a574269ac0de5fcee840a6007692c3b8a">Method</a> <a class="code" href="classmimosa_1_1http_1_1Request.html#a18d338ff8e867b026d3100e08e99af83">method</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a240176a83fb391d99b61415b0f5f101c">method_</a>; }
<a name="l00039"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a9575454842881177d04052c45cef6cd0">00039</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a9575454842881177d04052c45cef6cd0">setMethod</a>(<a class="code" href="namespacemimosa_1_1http.html#a574269ac0de5fcee840a6007692c3b8a">Method</a> m) { <a class="code" href="classmimosa_1_1http_1_1Request.html#a240176a83fb391d99b61415b0f5f101c">method_</a> = m; }
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a8e6ae683182742049a460209d3ccfe08">00041</a>       <span class="keyword">inline</span> uint8_t <a class="code" href="classmimosa_1_1http_1_1Request.html#a8e6ae683182742049a460209d3ccfe08">protoMajor</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a278f52428a378326dc6a193ddba49699">proto_major_</a>; }
<a name="l00042"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#abee9b31af6d2ee5654580d54dffc1524">00042</a>       <span class="keyword">inline</span> uint8_t <a class="code" href="classmimosa_1_1http_1_1Request.html#abee9b31af6d2ee5654580d54dffc1524">protoMinor</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#af26165dcfb24a0ee96eb3701c8b9e67b">proto_minor_</a>; }
<a name="l00043"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#aa3b549d68c783ed039c98dd317f20d75">00043</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#aa3b549d68c783ed039c98dd317f20d75">setProto</a>(uint8_t major, uint8_t minor) { <a class="code" href="classmimosa_1_1http_1_1Request.html#a278f52428a378326dc6a193ddba49699">proto_major_</a> = major; <a class="code" href="classmimosa_1_1http_1_1Request.html#af26165dcfb24a0ee96eb3701c8b9e67b">proto_minor_</a> = minor; }
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a4e28fd11bfbbbd3e8efafa17a9bbed2a">00045</a>       <span class="keyword">inline</span> <span class="keyword">const</span> std::string &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a4e28fd11bfbbbd3e8efafa17a9bbed2a">rawLocation</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a4e2dccbe809200534bcb761b09011e56">raw_location_</a>; }
<a name="l00046"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a6a1a74b6310a1fa36c7367ab97cb89a6">00046</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a6a1a74b6310a1fa36c7367ab97cb89a6">setRawLocation</a>(<span class="keyword">const</span> std::string &amp; s) { <a class="code" href="classmimosa_1_1http_1_1Request.html#a4e2dccbe809200534bcb761b09011e56">raw_location_</a> = s; }
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a7b2a525e61fa6127487ae6c9a7a13d7a">00048</a>       <span class="keyword">inline</span> <span class="keyword">const</span> std::string &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a7b2a525e61fa6127487ae6c9a7a13d7a">host</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a51f5166585d017a9747c0887a232c274">host_</a>; }
<a name="l00049"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a4f1fff29309325c98ec33f75305be0da">00049</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a4f1fff29309325c98ec33f75305be0da">setHost</a>(<span class="keyword">const</span> std::string &amp; s) { <a class="code" href="classmimosa_1_1http_1_1Request.html#a51f5166585d017a9747c0887a232c274">host_</a> = s; }
<a name="l00050"></a>00050 
<a name="l00051"></a>00051       <span class="keyword">const</span> std::string &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a3317b904f0cfc010112b592ae8370e21">location</a>() <span class="keyword">const</span>;
<a name="l00052"></a>00052       <span class="keyword">const</span> <a class="code" href="namespacemimosa_1_1container.html#a2dacc8900801f63d97871ba642dcfd95">container::kvs</a> &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a776b9924458285cf74d47af6d579a31a">query</a>() <span class="keyword">const</span>;
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a180491c2a4e86a039dfbeed4b4057bef">00054</a>       <span class="keywordtype">int</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a180491c2a4e86a039dfbeed4b4057bef">acceptEncoding</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ae6ef200db9502c3b02ff16c5ee5a6cc3">accept_encoding_</a>; }
<a name="l00055"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ae6c48a224602b86839316cba940370ac">00055</a>       <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ae6c48a224602b86839316cba940370ac">setAcceptEncoding</a>(<span class="keywordtype">int</span> <a class="code" href="tst-ref-countable_8cc.html#ac8859e8c1ce357c4c8b37bbb1936ba1c">v</a>) { <a class="code" href="classmimosa_1_1http_1_1Request.html#ae6ef200db9502c3b02ff16c5ee5a6cc3">accept_encoding_</a> = <a class="code" href="tst-ref-countable_8cc.html#ac8859e8c1ce357c4c8b37bbb1936ba1c">v</a>; }
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a5354c2203f946016555e20d26cdbd06f">00057</a>       <span class="keywordtype">bool</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a5354c2203f946016555e20d26cdbd06f">keepAlive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#adb3bb67bd7acdc37d9dbb3c79f56cdef">keep_alive_</a>; }
<a name="l00058"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#aa73cef9e00ed1d7d0ec46834349c36e6">00058</a>       <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#aa73cef9e00ed1d7d0ec46834349c36e6">setKeepAlive</a>(<span class="keywordtype">bool</span> <a class="code" href="tst-ref-countable_8cc.html#ac8859e8c1ce357c4c8b37bbb1936ba1c">v</a>) { <a class="code" href="classmimosa_1_1http_1_1Request.html#adb3bb67bd7acdc37d9dbb3c79f56cdef">keep_alive_</a> = <a class="code" href="tst-ref-countable_8cc.html#ac8859e8c1ce357c4c8b37bbb1936ba1c">v</a>; }
<a name="l00059"></a>00059 
<a name="l00060"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#abf3040ab4d5e2cca4a7030558d6ca3df">00060</a>       <span class="keyword">const</span> <a class="code" href="namespacemimosa_1_1container.html#a2dacc8900801f63d97871ba642dcfd95">container::kvs</a> &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#abf3040ab4d5e2cca4a7030558d6ca3df">cookies</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ad03432ecb68c83a5782ce5c486c302ae">cookies_</a>; }
<a name="l00061"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ab94d8a31566a3945db2a0017809433a3">00061</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ab94d8a31566a3945db2a0017809433a3">addCookie</a>(<span class="keyword">const</span> std::string &amp; <a class="code" href="request-lexer_8cc.html#ae57736c8a0ddeb64dc394712624d8209">key</a>,
<a name="l00062"></a>00062                             <span class="keyword">const</span> std::string &amp; <a class="code" href="request-lexer_8cc.html#a7ee752b8725a25ed58c5d2b2c77da72f">value</a>)
<a name="l00063"></a>00063       {
<a name="l00064"></a>00064         <a class="code" href="classmimosa_1_1http_1_1Request.html#ad03432ecb68c83a5782ce5c486c302ae">cookies_</a>.insert(std::make_pair(key, value));
<a name="l00065"></a>00065       }
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a53bba456692b1968534bd358d842cdcd">00067</a>       <span class="keyword">inline</span> int64_t <a class="code" href="classmimosa_1_1http_1_1Request.html#a53bba456692b1968534bd358d842cdcd">contentLength</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a06c23e880305bc080561244e02fa0a64">content_length_</a>; }
<a name="l00068"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a385ced15241f0eca8af55211be983952">00068</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a385ced15241f0eca8af55211be983952">setContentLength</a>(int64_t <a class="code" href="tst-ref-countable_8cc.html#ac8859e8c1ce357c4c8b37bbb1936ba1c">v</a>) { <a class="code" href="classmimosa_1_1http_1_1Request.html#a06c23e880305bc080561244e02fa0a64">content_length_</a> = <a class="code" href="tst-ref-countable_8cc.html#ac8859e8c1ce357c4c8b37bbb1936ba1c">v</a>; }
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a48bff1c8d20d1ee101ff07dd362a7698">00070</a>       <span class="keyword">inline</span> <span class="keyword">const</span> std::string &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a48bff1c8d20d1ee101ff07dd362a7698">contentType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#aa63227996a554b9f9d4bf5cc677b1e7d">content_type_</a>; }
<a name="l00071"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a60c60fa75f90e708fae65f96bc441a1d">00071</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a60c60fa75f90e708fae65f96bc441a1d">setContentType</a>(<span class="keyword">const</span> std::string &amp; s) { <a class="code" href="classmimosa_1_1http_1_1Request.html#aa63227996a554b9f9d4bf5cc677b1e7d">content_type_</a> = s; }
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#afe26a2665c22f2fa3e988b2495711e07">00073</a>       <span class="keyword">inline</span> <a class="code" href="classmimosa_1_1RefCountable.html#a7fbf925872c574ba8d421cd341fb986d">stream::Stream::Ptr</a> <a class="code" href="classmimosa_1_1http_1_1Request.html#afe26a2665c22f2fa3e988b2495711e07">body</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#aeba31f662b01bff39a0f04fa6af28641">body_</a>; }
<a name="l00074"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a606074a6b4aecfe16d0da040f5e1d629">00074</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a606074a6b4aecfe16d0da040f5e1d629">setBody</a>(<a class="code" href="classmimosa_1_1RefCountable.html#a7fbf925872c574ba8d421cd341fb986d">stream::Stream::Ptr</a> stream) { <a class="code" href="classmimosa_1_1http_1_1Request.html#aeba31f662b01bff39a0f04fa6af28641">body_</a> = stream; }
<a name="l00075"></a>00075 
<a name="l00076"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a74211191c65eba463ef904ee3996c0fd">00076</a>       <span class="keyword">inline</span> <span class="keyword">const</span> std::string &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a74211191c65eba463ef904ee3996c0fd">userAgent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ab98324db14f53586be77b6305dd2312f">user_agent_</a>; }
<a name="l00077"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ae22767c19309507c7b0033fbc6653ff5">00077</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ae22767c19309507c7b0033fbc6653ff5">setUserAgent</a>(<span class="keyword">const</span> std::string &amp; s) { <a class="code" href="classmimosa_1_1http_1_1Request.html#ab98324db14f53586be77b6305dd2312f">user_agent_</a> = s; }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a4f40732bc379e49afa594979535a3ed5">00079</a>       <span class="keyword">inline</span> <span class="keyword">const</span> std::string &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#a4f40732bc379e49afa594979535a3ed5">referrer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#addfe9aba020ce92feaa5cb5765b40fc4">referrer_</a>; }
<a name="l00080"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#af19948fbe2ff17c9d3e86cd6872335b2">00080</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#af19948fbe2ff17c9d3e86cd6872335b2">setReferrer</a>(<span class="keyword">const</span> std::string &amp; s) { <a class="code" href="classmimosa_1_1http_1_1Request.html#addfe9aba020ce92feaa5cb5765b40fc4">referrer_</a> = s; }
<a name="l00081"></a>00081 
<a name="l00082"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ac169ff82e0fe42c5aaf6b25fd2d876c6">00082</a>       <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespacemimosa_1_1container.html#a2dacc8900801f63d97871ba642dcfd95">container::kvs</a> &amp; <a class="code" href="classmimosa_1_1http_1_1Request.html#ac169ff82e0fe42c5aaf6b25fd2d876c6">unparsedHeaders</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#a4c6f61ded4f4d9d3d8f3342e0bb64e44">unparsed_headers_</a>; }
<a name="l00083"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ae3b753baf43fea70cdf2410dc0058c1f">00083</a>       <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#ae3b753baf43fea70cdf2410dc0058c1f">addHeader</a>(<span class="keyword">const</span> std::string &amp; <a class="code" href="request-lexer_8cc.html#ae57736c8a0ddeb64dc394712624d8209">key</a>,
<a name="l00084"></a>00084                             <span class="keyword">const</span> std::string &amp; <a class="code" href="request-lexer_8cc.html#a7ee752b8725a25ed58c5d2b2c77da72f">value</a>)
<a name="l00085"></a>00085       {
<a name="l00086"></a>00086         <a class="code" href="classmimosa_1_1http_1_1Request.html#a4c6f61ded4f4d9d3d8f3342e0bb64e44">unparsed_headers_</a>.insert(std::make_pair(key, value));
<a name="l00087"></a>00087       }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="keyword">protected</span>:
<a name="l00090"></a>00090 
<a name="l00091"></a>00091       <span class="comment">// mandatory stuff</span>
<a name="l00092"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a240176a83fb391d99b61415b0f5f101c">00092</a>       <a class="code" href="namespacemimosa_1_1http.html#a574269ac0de5fcee840a6007692c3b8a">Method</a>      <a class="code" href="classmimosa_1_1http_1_1Request.html#a240176a83fb391d99b61415b0f5f101c">method_</a>;
<a name="l00093"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a278f52428a378326dc6a193ddba49699">00093</a>       uint8_t     <a class="code" href="classmimosa_1_1http_1_1Request.html#a278f52428a378326dc6a193ddba49699">proto_major_</a>;
<a name="l00094"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#af26165dcfb24a0ee96eb3701c8b9e67b">00094</a>       uint8_t     <a class="code" href="classmimosa_1_1http_1_1Request.html#af26165dcfb24a0ee96eb3701c8b9e67b">proto_minor_</a>;
<a name="l00095"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a4e2dccbe809200534bcb761b09011e56">00095</a>       std::string <a class="code" href="classmimosa_1_1http_1_1Request.html#a4e2dccbe809200534bcb761b09011e56">raw_location_</a>;
<a name="l00096"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a51f5166585d017a9747c0887a232c274">00096</a>       std::string <a class="code" href="classmimosa_1_1http_1_1Request.html#a51f5166585d017a9747c0887a232c274">host_</a>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098       <span class="comment">// cleaned up location and queries</span>
<a name="l00099"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#aa2ace72479f7e4e562023a7b7fae3d61">00099</a>       <span class="keyword">mutable</span> <span class="keywordtype">bool</span>           <a class="code" href="classmimosa_1_1http_1_1Request.html#aa2ace72479f7e4e562023a7b7fae3d61">location_normalized_</a>;
<a name="l00100"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a18720f9120b4344b954e71973b7bc818">00100</a>       <span class="keyword">mutable</span> std::string    <a class="code" href="classmimosa_1_1http_1_1Request.html#a18720f9120b4344b954e71973b7bc818">location_</a>;
<a name="l00101"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ac8524dbd3bb356f87db8b35caddbc75c">00101</a>       <span class="keyword">mutable</span> <span class="keywordtype">bool</span>           <a class="code" href="classmimosa_1_1http_1_1Request.html#ac8524dbd3bb356f87db8b35caddbc75c">query_parsed_</a>;
<a name="l00102"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a6c5c32c1f42a979145a1a8e192597fc6">00102</a>       <span class="keyword">mutable</span> <a class="code" href="namespacemimosa_1_1container.html#a2dacc8900801f63d97871ba642dcfd95">container::kvs</a> <a class="code" href="classmimosa_1_1http_1_1Request.html#a6c5c32c1f42a979145a1a8e192597fc6">query_</a>;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104       <span class="comment">// basic stuff</span>
<a name="l00105"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ae6ef200db9502c3b02ff16c5ee5a6cc3">00105</a>       <span class="keywordtype">int</span>  <a class="code" href="classmimosa_1_1http_1_1Request.html#ae6ef200db9502c3b02ff16c5ee5a6cc3">accept_encoding_</a>;    <span class="comment">// Coding bitfield</span>
<a name="l00106"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#adb3bb67bd7acdc37d9dbb3c79f56cdef">00106</a>       <span class="keywordtype">bool</span> <a class="code" href="classmimosa_1_1http_1_1Request.html#adb3bb67bd7acdc37d9dbb3c79f56cdef">keep_alive_</a>;         <span class="comment">// keep the connection ?</span>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108       <span class="comment">// mmmiiam cookies :^)</span>
<a name="l00109"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ad03432ecb68c83a5782ce5c486c302ae">00109</a>       <a class="code" href="namespacemimosa_1_1container.html#a2dacc8900801f63d97871ba642dcfd95">container::kvs</a> <a class="code" href="classmimosa_1_1http_1_1Request.html#ad03432ecb68c83a5782ce5c486c302ae">cookies_</a>;
<a name="l00110"></a>00110 
<a name="l00111"></a>00111       <span class="comment">// post and put details</span>
<a name="l00112"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a06c23e880305bc080561244e02fa0a64">00112</a>       int64_t             <a class="code" href="classmimosa_1_1http_1_1Request.html#a06c23e880305bc080561244e02fa0a64">content_length_</a>;
<a name="l00113"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#aa63227996a554b9f9d4bf5cc677b1e7d">00113</a>       std::string         <a class="code" href="classmimosa_1_1http_1_1Request.html#aa63227996a554b9f9d4bf5cc677b1e7d">content_type_</a>;
<a name="l00114"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#aeba31f662b01bff39a0f04fa6af28641">00114</a>       <a class="code" href="classmimosa_1_1RefCountable.html#a7fbf925872c574ba8d421cd341fb986d">stream::Stream::Ptr</a> <a class="code" href="classmimosa_1_1http_1_1Request.html#aeba31f662b01bff39a0f04fa6af28641">body_</a>;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116       <span class="comment">// usefull for stats</span>
<a name="l00117"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#addfe9aba020ce92feaa5cb5765b40fc4">00117</a>       std::string <a class="code" href="classmimosa_1_1http_1_1Request.html#addfe9aba020ce92feaa5cb5765b40fc4">referrer_</a>;
<a name="l00118"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#ab98324db14f53586be77b6305dd2312f">00118</a>       std::string <a class="code" href="classmimosa_1_1http_1_1Request.html#ab98324db14f53586be77b6305dd2312f">user_agent_</a>;
<a name="l00119"></a>00119 
<a name="l00120"></a>00120       <span class="comment">// other headers</span>
<a name="l00121"></a><a class="code" href="classmimosa_1_1http_1_1Request.html#a4c6f61ded4f4d9d3d8f3342e0bb64e44">00121</a>       <a class="code" href="namespacemimosa_1_1container.html#a2dacc8900801f63d97871ba642dcfd95">container::kvs</a> <a class="code" href="classmimosa_1_1http_1_1Request.html#a4c6f61ded4f4d9d3d8f3342e0bb64e44">unparsed_headers_</a>;
<a name="l00122"></a>00122     };
<a name="l00123"></a>00123   }
<a name="l00124"></a>00124 }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="preprocessor">#endif </span><span class="comment">/* !MIMOSA_HTTP_REQUEST_HH */</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="request_8hh.html">request.hh</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Tue Sep 6 2011 16:55:49 for mimosa by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


<script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try{var pageTracker = _gat._getTracker("UA-24670421-1");pageTracker._trackPageview();} catch(err) {}</script></body>
</html>
